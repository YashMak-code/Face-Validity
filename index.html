<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å¿ƒç¥ä¸å®ï¼šæ„å¿µéªŒè¯ V2.0</title>
    <style>
        :root {
            /* é…è‰²å‡çº§ï¼šæ›´ä¸“ä¸šã€æŸ”å’Œçš„å¿ƒç†å­¦è“ */
            --primary: #5c8ae6;
            --primary-dark: #406cc7;
            --accent: #ff9f43;
            --bg-gradient: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            --card-bg: rgba(255, 255, 255, 0.95);
            --text-main: #2c3e50;
            --text-sub: #7f8c8d;
            --shadow: 0 8px 30px rgba(0,0,0,0.12);
            --radius: 16px;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background: var(--bg-gradient);
            color: var(--text-main);
            margin: 0;
            padding: 15px;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            box-sizing: border-box;
        }

        .container {
            width: 100%;
            max-width: 600px; /* é™åˆ¶æœ€å¤§å®½åº¦ï¼Œæ‰‹æœºä¸Šçœ‹æ›´ç²¾è‡´ */
            background: var(--card-bg);
            padding: 25px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            backdrop-filter: blur(10px);
            display: flex;
            flex-direction: column;
            position: relative;
            overflow: hidden;
            min-height: 80vh;
        }

        h1 { font-size: 1.4rem; text-align: center; color: var(--primary); margin: 0 0 15px 0; font-weight: 700; }
        p { line-height: 1.6; color: #555; font-size: 15px; margin-bottom: 20px; }

        .step { display: none; flex: 1; flex-direction: column; animation: fadeIn 0.4s ease; }
        .step.active { display: flex; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* --- ç»„ä»¶æ ·å¼ä¼˜åŒ– --- */

        /* æŒ‰é’® */
        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 14px;
            width: 100%;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            margin-top: auto; /* æ¨åˆ°åº•éƒ¨ */
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(92, 138, 230, 0.3);
            transition: transform 0.1s, background 0.2s;
            -webkit-tap-highlight-color: transparent;
        }
        .btn:active { transform: scale(0.98); background: var(--primary-dark); }
        .btn-secondary { background: #e0e6ed; color: #555; box-shadow: none; margin-top: 10px; }
        .btn-undo {
            background: transparent;
            color: #e74c3c;
            border: 1px solid #e74c3c;
            padding: 8px;
            font-size: 14px;
            margin-top: 10px;
            width: auto;
            align-self: center;
            display: flex; align-items: center; gap: 5px;
        }
        .btn-undo:disabled { border-color: #ccc; color: #ccc; }

        /* è¾“å…¥æ¡†ä¸æ ‡ç­¾ */
        .input-group { display: flex; gap: 10px; margin-bottom: 20px; }
        .input-box { flex: 1; padding: 12px; border: 2px solid #eee; border-radius: 10px; font-size: 16px; transition: border 0.3s; }
        .input-box:focus { border-color: var(--primary); outline: none; }

        .tag-container {
            display: flex; flex-wrap: wrap; gap: 10px; padding: 15px;
            background: #f8f9fa; border-radius: 12px; min-height: 100px;
            align-content: flex-start; margin-bottom: 20px;
        }
        .tag {
            background: #eef4ff; color: var(--primary);
            padding: 6px 14px; border-radius: 20px; font-size: 14px; font-weight: 500;
            display: flex; align-items: center; gap: 6px;
        }

        /* é˜¶æ®µ 3ï¼šåˆ†ç±»äº¤äº’ä¼˜åŒ– */
        .deck-area {
            background: white;
            position: sticky; top: 0; z-index: 10;
            padding-bottom: 15px;
            border-bottom: 1px solid #f0f0f0;
            margin-bottom: 15px;
            display: flex; flex-direction: column; align-items: center;
        }

        .current-card {
            background: white;
            border: 2px solid var(--primary);
            padding: 20px;
            border-radius: 16px;
            box-shadow: 0 10px 25px rgba(92, 138, 230, 0.15);
            font-size: 17px;
            font-weight: 500;
            text-align: center;
            min-height: 80px;
            width: 90%;
            display: flex; align-items: center; justify-content: center;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .buckets-grid {
            display: grid; grid-template-columns: 1fr 1fr; gap: 12px;
            padding-bottom: 10px; flex: 1; overflow-y: auto;
        }

        .bucket {
            background: #ffffff;
            border: 1px solid #e1e4e8;
            border-radius: 12px;
            padding: 15px 10px;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            cursor: pointer;
            transition: all 0.1s;
            position: relative;
            min-height: 90px;
        }
        .bucket:active { background: #f5f7fa; transform: scale(0.97); }
        .bucket h4 { margin: 0; font-size: 15px; color: #333; pointer-events: none; }
        .bucket p { font-size: 11px; color: #888; margin: 4px 0 0 0; pointer-events: none; }

        .bucket-badge {
            position: absolute; top: 5px; right: 5px;
            background: var(--primary); color: white;
            font-size: 10px; padding: 2px 6px; border-radius: 10px;
            opacity: 0; transition: opacity 0.2s;
        }
        .bucket-badge.show { opacity: 1; }

        /* è¿›åº¦æ¡ */
        .progress-container { width: 100%; background: #eee; height: 6px; border-radius: 3px; margin-bottom: 20px; overflow: hidden; }
        .progress-fill { height: 100%; background: var(--primary); width: 25%; transition: width 0.5s ease; }

        /* ç»“æœæ¡† */
        textarea { width: 100%; border: 2px solid #eee; border-radius: 10px; padding: 10px; font-family: monospace; font-size: 12px; resize: none; }

    </style>
</head>
<body>

<div class="container">
    <div class="progress-container"><div class="progress-fill" id="progress"></div></div>

    <div id="step1" class="step active">
        <h1>é˜¶æ®µä¸€ï¼šç›´è§‰è”æƒ³</h1>
        <p>å½“æåˆ° <strong>â€œå¿ƒç¥ä¸å®â€</strong> è¿™ä¸ªè¯æ—¶ï¼Œä½ è„‘æµ·ä¸­ç¬¬ä¸€æ—¶é—´ä¼šæµ®ç°å‡ºå“ªäº›ç—‡çŠ¶ã€æ„Ÿå—æˆ–ç”»é¢ï¼Ÿ</p>

        <div class="input-group">
            <input type="text" id="wordInput" class="input-box" placeholder="ä¾‹å¦‚ï¼šå¿ƒæ…Œã€ä¹±æƒ³...">
            <button style="width: auto; margin:0;" class="btn" onclick="addTag()">æ·»åŠ </button>
        </div>

        <div class="tag-container" id="tagCloud">
            <span style="color:#999; width:100%; text-align:center; margin-top:10px;">(æš‚æ— æ ‡ç­¾ï¼Œè¯·æ·»åŠ )</span>
        </div>
        <button class="btn" onclick="nextStep(2)">ä¸‹ä¸€æ­¥</button>
    </div>

    <div id="step2" class="step">
        <h1>é˜¶æ®µäºŒï¼šç›´è§‰åŒ¹é…</h1>
        <p>åŸºäºç†è®ºï¼Œæˆ‘ä»¬å°†â€œå¿ƒç¥ä¸å®â€æ‹†è§£ä¸ºä»¥ä¸‹ 5 ä¸ªç»´åº¦ã€‚è¯·é˜…è¯»å¹¶åˆ¤æ–­ï¼š<strong>è¿™äº›ç»´åº¦æ˜¯å¦ç¬¦åˆæ‚¨æƒ³è¦è¡¨è¾¾çš„å†…å®¹ï¼Ÿ</strong>ï¼ˆæˆ–è€…æ˜¯å¦ç¬¦åˆæ‚¨çš„ä¸­åŒ»/å¿ƒç†å­¦ç›´è§‰ï¼Ÿï¼‰</p>

        <div style="background:#f8f9fa; border-radius:12px; padding:15px; margin-bottom:20px;">
            <ul style="padding-left: 20px; margin:0; font-size: 14px; color: #444; line-height: 1.8;">
                <li><strong>â‘  æƒ…ç»ªçƒ¦èºï¼š</strong>æ˜“æ€’ã€åç«‹éš¾å®‰</li>
                <li><strong>â‘¡ è¿‡åº¦æ€è™‘ï¼š</strong>è„‘å­åœä¸ä¸‹æ¥ã€çº ç»“</li>
                <li><strong>â‘¢ æ³¨æ„æ§åˆ¶ä¸‹é™ï¼š</strong>èµ°ç¥ã€éš¾ä»¥é›†ä¸­</li>
                <li><strong>â‘£ ç¡çœ å›°æ‰°ï¼š</strong>å…¥ç¡éš¾ã€å¤šæ¢¦æ—©é†’</li>
                <li><strong>â‘¤ èº¯ä½“é«˜å”¤é†’ï¼š</strong>æ˜“å—æƒŠã€å¿ƒæ…Œèƒ¸é—·</li>
            </ul>
        </div>

        <p style="margin-bottom:10px; font-size:14px;"><strong>æ˜¯å¦æœ‰é—æ¼ï¼Ÿ</strong> (è‹¥æœ‰ï¼Œè¯·è¡¥å……ï¼›è‹¥æ— ï¼Œè¯·ç•™ç©º)</p>
        <textarea id="dimensionComment" style="height:60px;" placeholder="æˆ‘è§‰å¾—è¿˜åº”è¯¥åŒ…å«..."></textarea>

        <button class="btn" onclick="nextStep(3)">ç¡®è®¤ï¼Œå¼€å§‹åˆ†ç±»ä»»åŠ¡</button>
    </div>

    <div id="step3" class="step">
        <h1>é˜¶æ®µä¸‰ï¼šæ¡ç›®å½’ç±»</h1>

        <div class="deck-area">
            <div id="cardDisplay" class="current-card">
                </div>
            <button class="btn btn-undo" id="undoBtn" onclick="undoLastSort()" disabled>
                â†©ï¸ æ’¤é”€ä¸Šä¸€æ­¥
            </button>
            <div style="font-size: 12px; color: #aaa; margin-top: 8px;">ç‚¹å‡»ä¸‹æ–¹è‰²å—è¿›è¡Œå½’ç±»</div>
        </div>

        <div class="buckets-grid">
            <div class="bucket" onclick="placeCard('E')">
                <span class="bucket-badge" id="badge-E">0</span>
                <h4 style="color:#e67e22">æƒ…ç»ªçƒ¦èº</h4><p>æ˜“æ€’/éš¾å®‰</p>
            </div>
            <div class="bucket" onclick="placeCard('R')">
                <span class="bucket-badge" id="badge-R">0</span>
                <h4 style="color:#9b59b6">è¿‡åº¦æ€è™‘</h4><p>çº ç»“/åœä¸ä¸‹</p>
            </div>
            <div class="bucket" onclick="placeCard('A')">
                <span class="bucket-badge" id="badge-A">0</span>
                <h4 style="color:#3498db">æ³¨æ„æ§åˆ¶ä¸‹é™</h4><p>èµ°ç¥/åˆ†å¿ƒ</p>
            </div>
            <div class="bucket" onclick="placeCard('SD')">
                <span class="bucket-badge" id="badge-SD">0</span>
                <h4 style="color:#2ecc71">ç¡çœ å›°æ‰°</h4><p>å¤±çœ /å¤šæ¢¦</p>
            </div>
            <div class="bucket" onclick="placeCard('SH')">
                <span class="bucket-badge" id="badge-SH">0</span>
                <h4 style="color:#e74c3c">èº¯ä½“é«˜å”¤é†’</h4><p>å¿ƒæ…Œ/æ˜“æƒŠ</p>
            </div>
            <div class="bucket" style="background:#f2f2f2; border-color:#ccc;" onclick="placeCard('Trash')">
                <span class="bucket-badge" style="background:#999" id="badge-Trash">0</span>
                <h4 style="color:#7f8c8d">ä¸ç¡®å®š/è·³è¿‡</h4>
            </div>
        </div>
    </div>

    <div id="step4" class="step">
        <h1>ğŸ‰ æ„Ÿè°¢æ‚¨çš„å‚ä¸ï¼</h1>
        <p>æ‚¨çš„åˆ†ç±»æ•°æ®å¯¹æˆ‘ä»¬éå¸¸é‡è¦ã€‚è¯·ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å¤åˆ¶æ•°æ®ï¼Œå‘é€ç»™ç ”ç©¶è€…ã€‚</p>

        <button class="btn" style="background:#27ae60; margin-bottom:15px;" onclick="copyToClipboard()">ğŸ“‹ ä¸€é”®å¤åˆ¶æ•°æ®</button>
        <button class="btn btn-secondary" onclick="downloadData()">å¤‡ç”¨ï¼šä¸‹è½½æ–‡ä»¶</button>

        <p style="font-size: 12px; margin-top: 15px; color:#999;">æ•°æ®é¢„è§ˆ (å·²åŠ å¯†ä¸ªäººä¿¡æ¯)ï¼š</p>
        <textarea class="json-box" id="resultOutput" readonly></textarea>
    </div>
</div>

<script>
    // --- æ•°æ®æº (25é¢˜) ---
    const rawItems = [
        { id: "E1", content: "æˆ‘å¸¸å¸¸æ„Ÿåˆ°å¿ƒé‡Œæœ‰è«åçš„çƒ¦èºã€‚", target: "E" },
        { id: "E2", content: "æˆ‘æ¯”å¹³æ—¶æ›´å®¹æ˜“å› ä¸ºå°äº‹ç”Ÿæ°”ã€‚", target: "E" },
        { id: "E3", content: "æˆ‘ç»å¸¸æ„Ÿåˆ°ç´§å¼ ï¼Œå¥½åƒæ€»æœ‰ä¸å¥½çš„äº‹æƒ…è¦å‘ç”Ÿã€‚", target: "E" },
        { id: "E4", content: "å³ä½¿å‘¨å›´æ²¡æœ‰ä»€ä¹ˆå¤§äº‹ï¼Œæˆ‘ä¹Ÿæ„Ÿåˆ°åç«‹éš¾å®‰ï¼Œæ— æ³•æ”¾æ¾ã€‚", target: "E" },
        { id: "E5", content: "ä¸€æ—¦ç¯å¢ƒæˆ–è®¡åˆ’æœ‰ä¸€ç‚¹å˜åŒ–ï¼Œæˆ‘å°±ä¼šæ„Ÿåˆ°çƒ¦èºã€‚", target: "E" },
        { id: "E6", content: "æˆ‘å¯¹å‘¨å›´çš„å£°éŸ³æˆ–å¹²æ‰°æ„Ÿåˆ°ç‰¹åˆ«ä¸è€çƒ¦ã€‚", target: "E" },

        { id: "R1", content: "æˆ‘å¸¸å¸¸æ­¢ä¸ä½åœ°åå¤æƒ³ç€åŒä¸€ä»¶çƒ¦å¿ƒäº‹ã€‚", target: "R" },
        { id: "R2", content: "åšå†³å®šæ—¶ï¼Œæˆ‘å¸¸å¸¸åœ¨å¿ƒé‡Œæ¥å›æƒè¡¡å¾ˆä¹…ï¼ŒçŠ¹è±«ä¸å†³ã€‚", target: "R" },
        { id: "R3", content: "å³ä½¿æˆ‘æƒ³åœæ­¢æ€è€ƒæŸäº›äº‹ï¼Œè„‘å­è¿˜æ˜¯ä¼šä¸ç”±è‡ªä¸»åœ°ç»§ç»­è½¬åŠ¨ã€‚", target: "R" },
        { id: "R4", content: "æˆ‘ç»å¸¸ä¸€éåˆä¸€éåœ°å›æƒ³è‡ªå·±è¿‡å»åšé”™æˆ–æ²¡åšå¥½çš„äº‹ã€‚", target: "R" },

        { id: "A1", content: "æˆ‘å‘ç°è‡ªå·±å‘å‘†ã€ææƒšçš„æ—¶é—´æ¯”ä»¥å‰å¤šäº†ã€‚", target: "A" },
        { id: "A2", content: "å³ä½¿åœ¨åšäº‹æƒ…æ—¶ï¼Œæˆ‘çš„å¿ƒæ€ä¹Ÿæ€»æ˜¯é£˜åˆ°åˆ«çš„äº‹æƒ…ä¸Šã€‚", target: "A" },
        { id: "A3", content: "æˆ‘å¾ˆéš¾æŠŠæ³¨æ„åŠ›æŒç»­åœ°é›†ä¸­åœ¨æ‰‹å¤´çš„ä»»åŠ¡ä¸Šã€‚", target: "A" },
        { id: "A4", content: "æˆ‘æ„Ÿè§‰è®°å¿†åŠ›å¥½åƒå˜å·®äº†ï¼Œåˆšåšçš„äº‹è½¬å¤´å°±å¿˜ã€‚", target: "A" },
        { id: "A5", content: "æˆ‘æ„Ÿè§‰è„‘å­ä¹±ä¹±çš„ï¼Œåƒä¸€å›¢æµ†ç³Šï¼Œç†ä¸æ¸…å¤´ç»ªã€‚", target: "A" },

        { id: "SD1", content: "æˆ‘å…¥ç¡å›°éš¾ï¼Œèººåœ¨åºŠä¸Šéœ€è¦å¾ˆé•¿æ—¶é—´æ‰èƒ½ç¡ç€ã€‚", target: "SD" },
        { id: "SD2", content: "æˆ‘ç¡çœ å¾ˆæµ…ï¼Œæˆ–è€…å¤šæ¢¦ï¼Œå¤œé‡Œå®¹æ˜“é†’æ¥ã€‚", target: "SD" },
        { id: "SD3", content: "æˆ‘ä¼šæ¯”é¢„æœŸæ›´æ—©é†’æ¥ï¼Œä¹‹åå¾ˆéš¾å†ç¡ç€ã€‚", target: "SD" },
        { id: "SD4", content: "é†’æ¥æ—¶æˆ‘å¸¸å¸¸æ„Ÿè§‰æ²¡æœ‰ä¼‘æ¯å¥½ï¼Œèº«ä½“å¾ˆç–²ä¹ã€‚", target: "SD" },

        { id: "SH1", content: "æˆ‘å®¹æ˜“è¢«ä¸€äº›çªç„¶çš„å°å£°éŸ³æˆ–åŠ¨ä½œå“ä¸€è·³ã€‚", target: "SH" },
        { id: "SH2", content: "æˆ‘æ„Ÿåˆ°èƒ¸é—·ï¼Œæˆ–è€…éœ€è¦åšæ·±å‘¼å¸æ‰èˆ’æœã€‚", target: "SH" },
        { id: "SH3", content: "åœ¨æ²¡æœ‰å‰§çƒˆè¿åŠ¨çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä¹Ÿèƒ½æ„Ÿè§‰åˆ°å¿ƒè·³åŠ å¿«æˆ–å¿ƒæ…Œã€‚", target: "SH" },
    ];

    let userTags = [];
    let sortResults = []; // è®°å½•æ“ä½œå†å²
    let shuffledDeck = [];
    let bucketCounts = { E:0, R:0, A:0, SD:0, SH:0, Trash:0 };

    window.onload = function() {
        // åˆå§‹åŒ–æ‰“ä¹±
        shuffledDeck = [...rawItems].sort(() => Math.random() - 0.5);
        updateProgress(1);
    };

    // --- é˜¶æ®µ 1 ---
    function addTag() {
        const input = document.getElementById("wordInput");
        const val = input.value.trim();
        if (val) {
            userTags.push(val);
            const container = document.getElementById("tagCloud");
            if (userTags.length === 1) container.innerHTML = ""; // æ¸…é™¤æç¤º
            container.innerHTML += `<div class="tag">${val}</div>`;
            input.value = "";
            input.focus();
        }
    }

    // --- é˜¶æ®µ 3 æ ¸å¿ƒäº¤äº’ ---
    function renderCard() {
        const cardDiv = document.getElementById("cardDisplay");
        const undoBtn = document.getElementById("undoBtn");

        // æ›´æ–°æ’¤é”€æŒ‰é’®çŠ¶æ€
        undoBtn.disabled = sortResults.length === 0;
        undoBtn.style.opacity = sortResults.length === 0 ? 0.5 : 1;

        if (shuffledDeck.length === 0) {
            nextStep(4);
            return;
        }

        const item = shuffledDeck[0];
        const remaining = shuffledDeck.length;

        cardDiv.innerHTML = `
            <div style="width:100%">
                <div style="font-size:12px;color:#999;margin-bottom:8px;text-align:right">å‰©ä½™ ${remaining} é¢˜</div>
                <div style="font-size:16px;line-height:1.5">${item.content}</div>
            </div>
        `;

        // åˆ·æ–°åŠ¨ç”»
        cardDiv.style.transform = "scale(0.98)";
        setTimeout(() => cardDiv.style.transform = "scale(1)", 100);
    }

    function placeCard(bucketId) {
        if (shuffledDeck.length === 0) return;

        const currentItem = shuffledDeck[0];

        // 1. è®°å½•åˆ°å†å²ç»“æœ
        sortResults.push({
            id: currentItem.id,
            content: currentItem.content,
            bucket: bucketId,
            target: currentItem.target,
            correct: currentItem.target === bucketId
        });

        // 2. æ›´æ–°è®¡æ•°
        bucketCounts[bucketId]++;
        updateBadge(bucketId);

        // 3. ç§»é™¤å½“å‰å¡ç‰‡
        shuffledDeck.shift();

        // 4. æ¸²æŸ“ä¸‹ä¸€å¼ 
        renderCard();
    }

    // --- æ’¤é”€åŠŸèƒ½ (æ–°å¢) ---
    function undoLastSort() {
        if (sortResults.length === 0) return;

        // 1. å–å‡ºæœ€åä¸€æ¬¡æ“ä½œ
        const lastAction = sortResults.pop();

        // 2. æ¢å¤è®¡æ•°
        bucketCounts[lastAction.bucket]--;
        updateBadge(lastAction.bucket);

        // 3. å°†è¯¥é¢˜æ”¾å›ç‰Œå †é¡¶éƒ¨
        const itemToRestore = rawItems.find(i => i.id === lastAction.id);
        shuffledDeck.unshift(itemToRestore);

        // 4. é‡æ–°æ¸²æŸ“
        renderCard();
    }

    function updateBadge(id) {
        const badge = document.getElementById(`badge-${id}`);
        badge.innerText = bucketCounts[id];
        badge.classList.add("show");
        if(bucketCounts[id] === 0) badge.classList.remove("show");
    }

    // --- å¯¼èˆªä¸ç»“æœ ---
    function nextStep(step) {
        document.querySelectorAll('.step').forEach(el => el.classList.remove('active'));
        document.getElementById(`step${step}`).classList.add('active');
        document.getElementById('progress').style.width = (step/4)*100 + "%";

        if (step === 3) renderCard();
        if (step === 4) generateResult();
    }

    function generateResult() {
        const data = {
            phase1_tags: userTags,
            phase2_comment: document.getElementById("dimensionComment").value,
            phase3_data: sortResults.map(r => ({ id: r.id, bucket: r.bucket, correct: r.correct })),
            accuracy: Math.round((sortResults.filter(r=>r.correct).length / sortResults.length)*100) + "%"
        };
        document.getElementById("resultOutput").value = JSON.stringify(data);
    }

    function copyToClipboard() {
        const copyText = document.getElementById("resultOutput");
        copyText.select();
        copyText.setSelectionRange(0, 99999);
        navigator.clipboard.writeText(copyText.value).then(() => {
            alert("âœ… å¤åˆ¶æˆåŠŸï¼\nè¯·å»å¾®ä¿¡ç²˜è´´ç»™åŒå­¦ã€‚");
        }).catch(() => {
            alert("å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å…¨é€‰æ–‡æœ¬æ¡†å†…å®¹å¤åˆ¶ã€‚");
        });
    }

    function downloadData() {
        const text = document.getElementById("resultOutput").value;
        const blob = new Blob([text], { type: "text/plain" });
        const a = document.createElement("a");
        a.href = URL.createObjectURL(blob);
        a.download = `MRS_Data_${new Date().getTime()}.txt`;
        a.click();
    }
</script>

</body>
</html>
